(function(e){function t(t){for(var a,r,l=t[0],u=t[1],i=t[2],b=0,d=[];b<l.length;b++)r=l[b],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&d.push(c[r][0]),c[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);s&&s(t);while(d.length)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var u=n[l];0!==c[u]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},c={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/dist/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var s=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0017":function(module,__webpack_exports__,__webpack_require__){"use strict";var _http_websocket1__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("41d4"),_http_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f96b");__webpack_exports__["a"]={name:"msg",data:function(){return{ws:{},messages:[]}},created:function created(){var _this=this;this.messages=window.msgs;var ws=new _http_websocket1__WEBPACK_IMPORTED_MODULE_0__["a"](_http_api__WEBPACK_IMPORTED_MODULE_1__["a"].wsUrl+_http_api__WEBPACK_IMPORTED_MODULE_1__["a"].MsgData.index);this.ws=ws,ws.onOpen((function(e){console.log(e),console.log("ws连接已打开")})),ws.onMessage((function(event){var myDate=new Date,result=eval("("+event.data+")");console.log(result),result.time=myDate.toLocaleString(),console.log(result),_this.messages.unshift(result)})),ws.onClose((function(){console.log("ws连接已关闭")})),ws.onError((function(e){console.log("ws出现错误"+e)}))}}},"41d4":function(e,t,n){"use strict";var a=n("d4ec"),c=n("bee2"),o=function(){function e(t){Object(a["a"])(this,e),this.socket=new WebSocket(t)}return Object(c["a"])(e,[{key:"onMessage",value:function(e){this.socket.onmessage=e}},{key:"onOpen",value:function(e){this.socket.onopen=e}},{key:"onError",value:function(e){this.socket.onerror=e}},{key:"onClose",value:function(e){this.socket.onclose=e}},{key:"send",value:function(e){this.socket.send(JSON.stringify(e))}}]),e}();t["a"]=o},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),c=Object(a["n"])("div",{style:{height:"6%"},class:"label_style bor"}," leafBot ",-1),o=Object(a["p"])(" 消息处理 "),r=Object(a["p"])(" 请求事件 "),l=Object(a["p"])(" 元事件 "),u=Object(a["p"])(" 插件管理 "),i=Object(a["p"])(" 日志中心 "),s=Object(a["p"])(" 配置管理 "),b=Object(a["p"])("意见反馈");function d(e,t,n,d,f,O){var p=Object(a["P"])("el-menu-item"),j=Object(a["P"])("el-menu"),_=Object(a["P"])("el-aside"),g=Object(a["P"])("el-link"),h=Object(a["P"])("el-header"),m=Object(a["P"])("router-view"),v=Object(a["P"])("el-main"),y=Object(a["P"])("foot"),w=Object(a["P"])("el-footer"),q=Object(a["P"])("el-container");return Object(a["I"])(),Object(a["k"])(q,{style:Object(a["z"])(f.container_style)},{default:Object(a["eb"])((function(){return[Object(a["q"])(_,{style:Object(a["z"])(f.aside_width)},{default:Object(a["eb"])((function(){return[c,Object(a["q"])(j,{router:"router",class:"el-menu-demo","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:Object(a["eb"])((function(){return[Object(a["q"])(p,{index:"msg"},{default:Object(a["eb"])((function(){return[o]})),_:1}),Object(a["q"])(p,{index:"requests"},{default:Object(a["eb"])((function(){return[r]})),_:1}),Object(a["q"])(p,{index:"meta"},{default:Object(a["eb"])((function(){return[l]})),_:1})]})),_:1})]})),_:1},8,["style"]),Object(a["q"])(q,{style:{padding:"0"}},{default:Object(a["eb"])((function(){return[Object(a["q"])(h,{style:Object(a["z"])(f.header_height)},{default:Object(a["eb"])((function(){return[Object(a["q"])(j,{router:"router",class:"el-menu-demo",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:Object(a["eb"])((function(){return[Object(a["q"])(p,{index:"plugin"},{default:Object(a["eb"])((function(){return[u]})),_:1}),Object(a["q"])(p,{index:"log"},{default:Object(a["eb"])((function(){return[i]})),_:1}),Object(a["q"])(p,{index:"config"},{default:Object(a["eb"])((function(){return[s]})),_:1}),Object(a["q"])(p,{index:"suggest"},{default:Object(a["eb"])((function(){return[Object(a["q"])(g,{type:"info",href:"https://github.com/huoxue1/leafBotPlugin/issues"},{default:Object(a["eb"])((function(){return[b]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["style"]),Object(a["q"])(v,null,{default:Object(a["eb"])((function(){return[Object(a["q"])(m)]})),_:1}),Object(a["q"])(w,{class:"bor"},{default:Object(a["eb"])((function(){return[Object(a["q"])(y)]})),_:1})]})),_:1})]})),_:1},8,["style"])}n("b0c0");var f={style:{width:"100%",height:"100%","padding-top":"10px"}},O={style:{float:"left"}},p={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}},j=Object(a["p"])("发送");function _(e,t,n,c,o,r){var l=Object(a["P"])("el-option"),u=Object(a["P"])("el-select"),i=Object(a["P"])("el-col"),s=Object(a["P"])("el-input"),b=Object(a["P"])("el-button"),d=Object(a["P"])("el-row");return Object(a["I"])(),Object(a["m"])("div",f,[Object(a["q"])(d,null,{default:Object(a["eb"])((function(){return[Object(a["q"])(i,{span:5},{default:Object(a["eb"])((function(){return[Object(a["n"])("div",null,[Object(a["q"])(u,{modelValue:o.selfId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.selfId=e}),placeholder:"请选择bot",onChange:r.data_changed},{default:Object(a["eb"])((function(){return[(Object(a["I"])(!0),Object(a["m"])(a["b"],null,Object(a["N"])(o.selfIdOptions,(function(e){return Object(a["I"])(),Object(a["k"])(l,{value:e,key:e,label:e},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","onChange"])])]})),_:1}),Object(a["q"])(i,{span:5},{default:Object(a["eb"])((function(){return[Object(a["n"])("div",null,[Object(a["q"])(u,{modelValue:o.msgType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.msgType=e}),placeholder:"请选择消息类型",onChange:r.data_changed},{default:Object(a["eb"])((function(){return[(Object(a["I"])(!0),Object(a["m"])(a["b"],null,Object(a["N"])(o.msgTypes,(function(e){return Object(a["I"])(),Object(a["k"])(l,{value:e.value,key:e.key,label:e.key},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","onChange"])])]})),_:1}),Object(a["q"])(i,{span:5},{default:Object(a["eb"])((function(){return[Object(a["n"])("div",null,[Object(a["q"])(u,{modelValue:o.id,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.id=e}),placeholder:"请选择发送对象"},{default:Object(a["eb"])((function(){return[(Object(a["I"])(!0),Object(a["m"])(a["b"],null,Object(a["N"])(o.list,(function(e){return Object(a["I"])(),Object(a["k"])(l,{value:e.id,key:e.name,label:e.name},{default:Object(a["eb"])((function(){return[Object(a["n"])("span",O,Object(a["T"])(e.nick_name),1),Object(a["n"])("span",p,Object(a["T"])(e.id),1)]})),_:2},1032,["value","label"])})),128))]})),_:1},8,["modelValue"])])]})),_:1}),Object(a["q"])(i,{span:7},{default:Object(a["eb"])((function(){return[Object(a["n"])("div",null,[Object(a["q"])(s)])]})),_:1}),Object(a["q"])(i,{span:2},{default:Object(a["eb"])((function(){return[Object(a["n"])("div",null,[Object(a["q"])(b,{type:"success"},{default:Object(a["eb"])((function(){return[j]})),_:1})])]})),_:1})]})),_:1})])}var g=n("b85c"),h=n("2909"),m=n("f96b"),v=n("bc3a"),y=n.n(v),w={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.a.get(e,{headers:t,params:n})},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y.a.post(e,t,{headers:n})},uploader:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new FormData;return a.append("file",t),n?y.a.post(e,a,{headers:{Authorization:"Your back-end user authenticates information"}}):y.a.post(e,a)}},q={name:"Foot",data:function(){return{msgTypes:[{value:"private",key:"私聊"},{value:"group",key:"群聊"}],list:[],selfIdOptions:[],selfId:"",msgType:"group",id:0}},created:function(){var e=this;w.post(m["a"].baseAPi+m["a"].Config.index).then((function(t){var n;(n=e.selfIdOptions).push.apply(n,Object(h["a"])(t.data)),t.data.length>0&&(e.selfId=t.data[0])})).catch((function(e){alert("请求api错误"+e)})),this.data_changed()},methods:{data_changed:function(){var e=this;this.list=[],""!==this.selfId&&("group"===this.msgType?y.a.post(m["a"].baseAPi+m["a"].GroupList.index,{self_id:this.selfId},{}).then((function(t){var n,a=Object(g["a"])(t.data);try{for(a.s();!(n=a.n()).done;){var c=n.value;console.log(c),e.list.push({id:c.group_id,name:c.group_name,nick_name:c.group_name})}}catch(o){a.e(o)}finally{a.f()}e.id=t.data[0].group_id})):"private"===this.msgType&&w.post(m["a"].baseAPi+m["a"].FriendList.index,{self_id:this.selfId}).then((function(t){var n,a=Object(g["a"])(t.data);try{for(a.s();!(n=a.n()).done;){var c=n.value;console.log(c),e.list.push({id:c.user_id,name:c.nick_name,nick_name:c.remark})}}catch(o){a.e(o)}finally{a.f()}e.id=t.data[0].user_id})))}}};q.render=_;var k=q,P={components:{Foot:k},data:function(){return{container_style:{margin:"0 auto",height:"100%"},header_height:{padding:0,backgroundColor:"#545c64",height:"6%"},aside_width:{backgroundColor:"#545c64",padding:0,width:"12%"}}},computed:{},created:function(){window.msgs=[]}};n("f597");P.render=d;var x=P,I=n("6c02");function T(e,t,n,c,o,r){var l=Object(a["P"])("el-form-item"),u=Object(a["P"])("el-form"),i=Object(a["P"])("el-table-column"),s=Object(a["P"])("el-table");return Object(a["I"])(),Object(a["m"])("div",null,[Object(a["q"])(s,{data:o.messages,style:{width:"100%"}},{default:Object(a["eb"])((function(){return[Object(a["q"])(i,{type:"expand"},{default:Object(a["eb"])((function(e){return[Object(a["q"])(u,{"label-position":"left",inline:"",class:"demo-table-expand"},{default:Object(a["eb"])((function(){return[Object(a["q"])(l,{label:"消息id"},{default:Object(a["eb"])((function(){return[Object(a["n"])("span",null,Object(a["T"])(e.row.message_id),1)]})),_:2},1024),Object(a["q"])(l,{label:"群昵称"},{default:Object(a["eb"])((function(){return[Object(a["n"])("span",null,Object(a["T"])(e.row.sender.nick_name),1)]})),_:2},1024),Object(a["q"])(l,{label:"消息数组"},{default:Object(a["eb"])((function(){return[Object(a["n"])("span",null,Object(a["T"])(JSON.stringify(e.row.message)),1)]})),_:2},1024)]})),_:2},1024)]})),_:1}),Object(a["q"])(i,{label:"时间",prop:"time"}),Object(a["q"])(i,{label:"消息类型",prop:"message_type"}),Object(a["q"])(i,{label:"群号",prop:"group_id"}),Object(a["q"])(i,{label:"账号",prop:"user_id"}),Object(a["q"])(i,{label:"消息内容",prop:"raw_message"})]})),_:1},8,["data"])])}var C=n("0017");n("944f");C["a"].render=T,C["a"].__scopeId="data-v-a3921cb8";var E=C["a"];function M(e,t,n,c,o,r){return Object(a["I"])(),Object(a["m"])("div",null,"123")}var D={name:"show_log"};D.render=M;var A=D;function L(e,t,n,c,o,r){return Object(a["I"])(),Object(a["m"])("div",null,"meta")}var U={name:"meta"};U.render=L;var S=U;function V(e,t,n,c,o,r){return Object(a["I"])(),Object(a["m"])("div",null,"req")}var z={name:"requests"};z.render=V;var B=z,N=Object(a["p"])("编辑");function W(e,t,n,c,o,r){var l=Object(a["P"])("el-table-column"),u=Object(a["P"])("el-button"),i=Object(a["P"])("el-table");return Object(a["I"])(),Object(a["m"])("div",null,[Object(a["q"])(i,{data:o.plugins,style:{width:"100%"}},{default:Object(a["eb"])((function(){return[Object(a["q"])(l,{label:"插件id",prop:"ID"}),Object(a["q"])(l,{label:"插件名",prop:"Name"}),Object(a["q"])(l,{label:"插件类型",prop:"HandleType"}),Object(a["q"])(l,{label:"是否启用"},{default:Object(a["eb"])((function(t){return[Object(a["q"])(u,{size:"mini",onClick:function(n){return e.handleEdit(t.$index,t.row)}},{default:Object(a["eb"])((function(){return[N]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])])}var F={name:"plugin",data:function(){return{plugins:[]}},created:function(){var e=this;y.a.post(m["a"].baseAPi+m["a"].GetHandles.index).then((function(t){console.log(t.data),e.plugins=t.data})).catch((function(e){console.log(e)}))},methods:{handEvent:function(e,t){console.log(e,t)}}};F.render=W;var K=F;function R(e,t,n,c,o,r){return Object(a["I"])(),Object(a["m"])("div",null," config ")}var G={name:"config",data:function(){return{data:{}}},created:function(){var e=this;y.a.post(m["a"].baseAPi+m["a"].AllConfig.index).then((function(t){console.log(t.data),e.data=t.data})).catch((function(e){console.log(e)}))}};G.render=R;var J=G,H=[{path:"/msg",name:"msg",component:E},{path:"/log",name:"show_log",component:A},{path:"/meta",name:"meta",component:S},{path:"/requests",name:"requests",component:B},{path:"/plugin",name:"plugin",component:K},{path:"/config",name:"config",component:J}],Y=Object(I["a"])({history:Object(I["b"])("/dist/dist/"),routes:H}),$=Y,Q=n("7864"),X=(n("c69f"),n("3ef0")),Z=n.n(X),ee=function(e){e.use(Q["a"],{locale:Z.a})},te=Object(a["j"])(x).use($);ee(te),te.use($).mount("#app")},"6e79":function(e,t,n){},"944f":function(e,t,n){"use strict";n("fa93")},c69f:function(e,t,n){},f597:function(e,t,n){"use strict";n("6e79")},f96b:function(e,t,n){"use strict";t["a"]={baseAPi:"http://127.0.0.1:3000",wsUrl:"ws://127.0.0.1:3000",Config:{index:"/get_config"},FriendList:{index:"/get_friend_list"},GroupList:{index:"/get_group_list"},MsgData:{index:"/data"},AllConfig:{index:"/get_all_config"},GetHandles:{index:"/get_plugins"}}},fa93:function(e,t,n){}});
//# sourceMappingURL=app.35a83714.js.map