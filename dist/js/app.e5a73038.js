(function(e){function t(t){for(var c,o,u=t[0],l=t[1],i=t[2],b=0,d=[];b<u.length;b++)o=u[b],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);s&&s(t);while(d.length)d.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],c=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(c=!1)}c&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var c={},a={app:0},r=[];function o(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=c,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)o.d(n,c,function(t){return e[t]}.bind(null,c));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/dist/gui/dist/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0017":function(module,__webpack_exports__,__webpack_require__){"use strict";var _http_websocket1__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("41d4"),_http_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f96b");__webpack_exports__["a"]={name:"msg",data:function(){return{ws:{},messages:[]}},created:function created(){var _this=this;this.messages=window.msgs;var ws=new _http_websocket1__WEBPACK_IMPORTED_MODULE_0__["a"](_http_api__WEBPACK_IMPORTED_MODULE_1__["a"].wsUrl+_http_api__WEBPACK_IMPORTED_MODULE_1__["a"].MsgData.index);this.ws=ws,ws.onOpen((function(e){console.log(e),console.log("ws连接已打开")})),ws.onMessage((function(event){var myDate=new Date,result=eval("("+event.data+")");console.log(result),result.time=myDate.toLocaleString(),console.log(result),_this.messages.unshift(result)})),ws.onClose((function(){console.log("ws连接已关闭")})),ws.onError((function(e){console.log("ws出现错误"+e)}))}}},"41d4":function(e,t,n){"use strict";var c=n("d4ec"),a=n("bee2"),r=function(){function e(t){Object(c["a"])(this,e),this.socket=new WebSocket(t)}return Object(a["a"])(e,[{key:"onMessage",value:function(e){this.socket.onmessage=e}},{key:"onOpen",value:function(e){this.socket.onopen=e}},{key:"onError",value:function(e){this.socket.onerror=e}},{key:"onClose",value:function(e){this.socket.onclose=e}},{key:"send",value:function(e){this.socket.send(JSON.stringify(e))}}]),e}();t["a"]=r},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),a=Object(c["n"])("div",{style:{height:"6%"},class:"label_style bor"}," leafBot ",-1),r=Object(c["p"])(" 消息处理 "),o=Object(c["p"])(" 请求事件 "),u=Object(c["p"])(" 元事件 "),l=Object(c["p"])(" 插件管理 "),i=Object(c["p"])(" 日志中心 "),s=Object(c["p"])("意见反馈");function b(e,t,n,b,d,f){var O=Object(c["P"])("el-menu-item"),p=Object(c["P"])("el-menu"),j=Object(c["P"])("el-aside"),_=Object(c["P"])("el-link"),g=Object(c["P"])("el-header"),h=Object(c["P"])("router-view"),m=Object(c["P"])("el-main"),v=Object(c["P"])("foot"),y=Object(c["P"])("el-footer"),w=Object(c["P"])("el-container");return Object(c["I"])(),Object(c["k"])(w,{style:Object(c["z"])(d.container_style)},{default:Object(c["eb"])((function(){return[Object(c["q"])(j,{style:Object(c["z"])(d.aside_width)},{default:Object(c["eb"])((function(){return[a,Object(c["q"])(p,{router:"router",class:"el-menu-demo","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:Object(c["eb"])((function(){return[Object(c["q"])(O,{index:"msg"},{default:Object(c["eb"])((function(){return[r]})),_:1}),Object(c["q"])(O,{index:"requests"},{default:Object(c["eb"])((function(){return[o]})),_:1}),Object(c["q"])(O,{index:"meta"},{default:Object(c["eb"])((function(){return[u]})),_:1})]})),_:1})]})),_:1},8,["style"]),Object(c["q"])(w,{style:{padding:"0"}},{default:Object(c["eb"])((function(){return[Object(c["q"])(g,{style:Object(c["z"])(d.header_height)},{default:Object(c["eb"])((function(){return[Object(c["q"])(p,{router:"router",class:"el-menu-demo",mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},{default:Object(c["eb"])((function(){return[Object(c["q"])(O,{index:"plugin"},{default:Object(c["eb"])((function(){return[l]})),_:1}),Object(c["q"])(O,{index:"log"},{default:Object(c["eb"])((function(){return[i]})),_:1}),Object(c["q"])(O,{index:"suggest"},{default:Object(c["eb"])((function(){return[Object(c["q"])(_,{type:"info",href:"https://github.com/huoxue1/leafBotPlugin/issues"},{default:Object(c["eb"])((function(){return[s]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["style"]),Object(c["q"])(m,null,{default:Object(c["eb"])((function(){return[Object(c["q"])(h)]})),_:1}),Object(c["q"])(y,{class:"bor"},{default:Object(c["eb"])((function(){return[Object(c["q"])(v)]})),_:1})]})),_:1})]})),_:1},8,["style"])}n("b0c0");var d={style:{width:"100%",height:"100%","padding-top":"10px"}},f={style:{float:"left"}},O={style:{float:"right",color:"var(--el-text-color-secondary)","font-size":"13px"}},p=Object(c["p"])("发送");function j(e,t,n,a,r,o){var u=Object(c["P"])("el-option"),l=Object(c["P"])("el-select"),i=Object(c["P"])("el-col"),s=Object(c["P"])("el-input"),b=Object(c["P"])("el-button"),j=Object(c["P"])("el-row");return Object(c["I"])(),Object(c["m"])("div",d,[Object(c["q"])(j,null,{default:Object(c["eb"])((function(){return[Object(c["q"])(i,{span:5},{default:Object(c["eb"])((function(){return[Object(c["n"])("div",null,[Object(c["q"])(l,{modelValue:r.selfId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return r.selfId=e}),placeholder:"请选择bot",onChange:o.data_changed},{default:Object(c["eb"])((function(){return[(Object(c["I"])(!0),Object(c["m"])(c["b"],null,Object(c["N"])(r.selfIdOptions,(function(e){return Object(c["I"])(),Object(c["k"])(u,{value:e,key:e,label:e},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","onChange"])])]})),_:1}),Object(c["q"])(i,{span:5},{default:Object(c["eb"])((function(){return[Object(c["n"])("div",null,[Object(c["q"])(l,{modelValue:r.msgType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.msgType=e}),placeholder:"请选择消息类型",onChange:o.data_changed},{default:Object(c["eb"])((function(){return[(Object(c["I"])(!0),Object(c["m"])(c["b"],null,Object(c["N"])(r.msgTypes,(function(e){return Object(c["I"])(),Object(c["k"])(u,{value:e.value,key:e.key,label:e.key},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","onChange"])])]})),_:1}),Object(c["q"])(i,{span:5},{default:Object(c["eb"])((function(){return[Object(c["n"])("div",null,[Object(c["q"])(l,{modelValue:r.id,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.id=e}),placeholder:"请选择发送对象"},{default:Object(c["eb"])((function(){return[(Object(c["I"])(!0),Object(c["m"])(c["b"],null,Object(c["N"])(r.list,(function(e){return Object(c["I"])(),Object(c["k"])(u,{value:e.id,key:e.name,label:e.name},{default:Object(c["eb"])((function(){return[Object(c["n"])("span",f,Object(c["T"])(e.nick_name),1),Object(c["n"])("span",O,Object(c["T"])(e.id),1)]})),_:2},1032,["value","label"])})),128))]})),_:1},8,["modelValue"])])]})),_:1}),Object(c["q"])(i,{span:7},{default:Object(c["eb"])((function(){return[Object(c["n"])("div",null,[Object(c["q"])(s)])]})),_:1}),Object(c["q"])(i,{span:2},{default:Object(c["eb"])((function(){return[Object(c["n"])("div",null,[Object(c["q"])(b,{type:"success"},{default:Object(c["eb"])((function(){return[p]})),_:1})])]})),_:1})]})),_:1})])}var _=n("b85c"),g=n("2909"),h=n("f96b"),m=n("bc3a"),v=n.n(m),y={get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v.a.get(e,{headers:t,params:n})},post:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v.a.post(e,t,{headers:n})},uploader:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=new FormData;return c.append("file",t),n?v.a.post(e,c,{headers:{Authorization:"Your back-end user authenticates information"}}):v.a.post(e,c)}},w={name:"Foot",data:function(){return{msgTypes:[{value:"private",key:"私聊"},{value:"group",key:"群聊"}],list:[],selfIdOptions:[],selfId:"",msgType:"group",id:0}},created:function(){var e=this;y.post(h["a"].baseAPi+h["a"].Config.index).then((function(t){var n;(n=e.selfIdOptions).push.apply(n,Object(g["a"])(t.data)),t.data.length>0&&(e.selfId=t.data[0])})).catch((function(e){alert("请求api错误"+e)})),this.data_changed()},methods:{data_changed:function(){var e=this;this.list=[],""!==this.selfId&&("group"===this.msgType?v.a.post(h["a"].baseAPi+h["a"].GroupList.index,{self_id:this.selfId},{}).then((function(t){var n,c=Object(_["a"])(t.data);try{for(c.s();!(n=c.n()).done;){var a=n.value;console.log(a),e.list.push({id:a.group_id,name:a.group_name,nick_name:a.group_name})}}catch(r){c.e(r)}finally{c.f()}e.id=t.data[0].group_id})):"private"===this.msgType&&y.post(h["a"].baseAPi+h["a"].FriendList.index,{self_id:this.selfId}).then((function(t){var n,c=Object(_["a"])(t.data);try{for(c.s();!(n=c.n()).done;){var a=n.value;console.log(a),e.list.push({id:a.user_id,name:a.nick_name,nick_name:a.remark})}}catch(r){c.e(r)}finally{c.f()}e.id=t.data[0].user_id})))}}};w.render=j;var q=w,k={components:{Foot:q},data:function(){return{container_style:{margin:"0 auto",height:"100%"},header_height:{padding:0,backgroundColor:"#545c64",height:"6%"},aside_width:{backgroundColor:"#545c64",padding:0,width:"12%"}}},computed:{},created:function(){window.msgs=[]}};n("deb7");k.render=b;var P=k,x=n("6c02");function I(e,t,n,a,r,o){var u=Object(c["P"])("el-form-item"),l=Object(c["P"])("el-form"),i=Object(c["P"])("el-table-column"),s=Object(c["P"])("el-table");return Object(c["I"])(),Object(c["m"])("div",null,[Object(c["q"])(s,{data:r.messages,style:{width:"100%"}},{default:Object(c["eb"])((function(){return[Object(c["q"])(i,{type:"expand"},{default:Object(c["eb"])((function(e){return[Object(c["q"])(l,{"label-position":"left",inline:"",class:"demo-table-expand"},{default:Object(c["eb"])((function(){return[Object(c["q"])(u,{label:"消息id"},{default:Object(c["eb"])((function(){return[Object(c["n"])("span",null,Object(c["T"])(e.row.message_id),1)]})),_:2},1024),Object(c["q"])(u,{label:"群昵称"},{default:Object(c["eb"])((function(){return[Object(c["n"])("span",null,Object(c["T"])(e.row.sender.nick_name),1)]})),_:2},1024),Object(c["q"])(u,{label:"消息数组"},{default:Object(c["eb"])((function(){return[Object(c["n"])("span",null,Object(c["T"])(JSON.stringify(e.row.message)),1)]})),_:2},1024)]})),_:2},1024)]})),_:1}),Object(c["q"])(i,{label:"时间",prop:"time"}),Object(c["q"])(i,{label:"消息类型",prop:"message_type"}),Object(c["q"])(i,{label:"群号",prop:"group_id"}),Object(c["q"])(i,{label:"账号",prop:"user_id"}),Object(c["q"])(i,{label:"消息内容",prop:"raw_message"})]})),_:1},8,["data"])])}var T=n("0017");n("944f");T["a"].render=I,T["a"].__scopeId="data-v-a3921cb8";var M=T["a"];function E(e,t,n,a,r,o){return Object(c["I"])(),Object(c["m"])("div",null,"123")}var D={name:"show_log"};D.render=E;var C=D;function A(e,t,n,a,r,o){return Object(c["I"])(),Object(c["m"])("div",null,"meta")}var L={name:"meta"};L.render=A;var U=L;function S(e,t,n,a,r,o){return Object(c["I"])(),Object(c["m"])("div",null,"req")}var V={name:"requests"};V.render=S;var B=V;function z(e,t,n,a,r,o){return Object(c["I"])(),Object(c["m"])("div",null,"plugin")}var W={name:"plugin"};W.render=z;var F=W,K=[{path:"/msg",name:"msg",component:M},{path:"/log",name:"show_log",component:C},{path:"/meta",name:"meta",component:U},{path:"/requests",name:"requests",component:B},{path:"/plugin",name:"plugin",component:F}],N=Object(x["a"])({history:Object(x["b"])("/dist/gui/dist/"),routes:K}),R=N,J=n("7864"),G=(n("c69f"),n("3ef0")),Y=n.n(G),H=function(e){e.use(J["a"],{locale:Y.a})},Q=Object(c["j"])(P).use(R);H(Q),Q.use(R).mount("#app")},"6be5":function(e,t,n){},"944f":function(e,t,n){"use strict";n("fa93")},c69f:function(e,t,n){},deb7:function(e,t,n){"use strict";n("6be5")},f96b:function(e,t,n){"use strict";t["a"]={baseAPi:"http://127.0.0.1:3000",wsUrl:"ws://127.0.0.1:3000",Config:{index:"/get_config"},FriendList:{index:"/get_friend_list"},GroupList:{index:"/get_group_list"},MsgData:{index:"/data"}}},fa93:function(e,t,n){}});
//# sourceMappingURL=app.e5a73038.js.map