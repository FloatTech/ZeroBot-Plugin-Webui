var A=(R,f,r)=>new Promise((y,T)=>{var C=p=>{try{_(r.next(p))}catch(g){T(g)}},I=p=>{try{_(r.throw(p))}catch(g){T(g)}},_=p=>p.done?y(p.value):Promise.resolve(p.value).then(C,I);_((r=r.apply(R,f)).next())});import{A as z,P as K,r as v,j as N,bn as P,S as H,B as u,D as l,w as c,a5 as s,u as o,a_ as U,K as B,aS as k,H as S,an as X,aw as L,X as G,aa as E,ao as Q,J as w,ad as n,a1 as i,bs as d,bu as W}from"./vendor.a45ea33e.js";/* empty css              *//* empty css              *//* empty css               *//* empty css               */import{a as Y,f as Z}from"./index.c19540a9.js";import{_ as ee,j as te,a as oe}from"./AddJob.0a02acb3.js";/* empty css               *//* empty css               */import"./index.809887c2.js";/* empty css               *//* empty css               */const se=n("\u4EFB\u52A1"),ue=n("\u6E05\u9664\u7B5B\u9009"),ne=n("\u6E05\u9664\u7B5B\u9009\u548C\u6392\u5E8F"),ae={style:{padding:"8px"}},le=n(" Search "),re=n(" Reset "),ie={key:0},de=n("\u6307\u4EE4\u522B\u540D"),ce=n("\u5B9A\u65F6\u4EFB\u52A1"),pe=n("\u4F60\u95EE\u6211\u7B54"),_e=n("\u672A\u77E5\u7C7B\u578B"),ye={key:0},he=n("\u65E0\u72B6\u6001\u6D88\u606F"),fe=n("\u4E3B\u4EBA\u6D88\u606F"),Te=n("\u672A\u77E5\u7C7B\u578B"),me={key:0},xe=n("\u5355\u7FA4\u5458\u95EE"),Ce=n("\u6240\u6709\u7FA4\u5458\u95EE"),ge=n("\u672A\u77E5\u7C7B\u578B"),ke={key:0},we=n("\u6587\u672C\u6D88\u606F"),ve=n("\u6CE8\u5165\u6D88\u606F"),Be=n("\u672A\u77E5\u7C7B\u578B"),Ee={key:0},Ie={key:1},Fe={key:0},De={key:1},be=n("\u5220\u9664"),Ne=z({setup(R){const{prefixCls:f}=Y("job"),r=K({searchText:"",searchedColumn:""}),y=v(),T=v(),C=v(),I=N(()=>{const a=C.value||{};return[{title:"id",dataIndex:"id",key:"id",slots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:(t,e)=>e.id.toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownVisibleChange:t=>{t&&setTimeout(()=>{y.value.focus()},100)}},{title:"\u5339\u914D\u5668",dataIndex:"matcher",key:"matcher",slots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:(t,e)=>e.matcher.toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownVisibleChange:t=>{t&&setTimeout(()=>{y.value.focus()},100)}},{title:"\u5904\u7406\u5668",dataIndex:"handler",key:"handler",slots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:(t,e)=>e.handler.toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownVisibleChange:t=>{t&&setTimeout(()=>{y.value.focus()},100)}},{title:"\u4EFB\u52A1\u7C7B\u578B",dataIndex:"jobType",key:"jobType",slots:{customRender:"jobType"},filters:[{text:"\u6307\u4EE4\u522B\u540D",value:"1"},{text:"\u5B9A\u65F6\u4EFB\u52A1",value:"2"},{text:"\u4F60\u95EE\u6211\u7B54",value:"3"}],onFilter:(t,e)=>e.jobType.toString()===t,sorter:(t,e)=>t.jobType-e.jobType,sortOrder:a.columnKey==="jobType"&&a.order,ellipsis:!0},{title:"\u6307\u4EE4\u522B\u540D\u7C7B\u578B",dataIndex:"fullMatchType",key:"fullMatchType",slots:{customRender:"fullMatchType"},filters:[{text:"\u7A7A",value:"0"},{text:"\u65E0\u72B6\u6001\u6D88\u606F",value:"1"},{text:"\u4E3B\u4EBA\u6D88\u606F",value:"2"}],onFilter:(t,e)=>e.fullMatchType.toString()===t,sorter:(t,e)=>t.fullMatchType-e.fullMatchType,sortOrder:a.columnKey==="fullMatchType"&&a.order,ellipsis:!0},{title:"\u95EE\u9898\u7C7B\u578B",dataIndex:"questionType",key:"questionType",slots:{customRender:"questionType"},filters:[{text:"\u7A7A",value:"0"},{text:"\u5355\u7FA4\u5458\u95EE",value:"1"},{text:"\u6240\u6709\u7FA4\u5458\u95EE",value:"2"}],onFilter:(t,e)=>e.questionType.toString()===t,sorter:(t,e)=>t.questionType-e.questionType,sortOrder:a.columnKey==="questionType"&&a.order,ellipsis:!0},{title:"\u56DE\u7B54\u7C7B\u578B",dataIndex:"answerType",key:"answerType",slots:{customRender:"answerType"},filters:[{text:"\u7A7A",value:"0"},{text:"\u6587\u672C\u6D88\u606F",value:"1"},{text:"\u6CE8\u5165\u6D88\u606F",value:"2"}],onFilter:(t,e)=>e.answerType.toString()===t,sorter:(t,e)=>t.answerType-e.answerType,sortOrder:a.columnKey==="answerType"&&a.order,ellipsis:!0},{title:"\u7FA4\u804Aid",dataIndex:"groupId",key:"groupId",slots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:(t,e)=>e.groupId.toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownVisibleChange:t=>{t&&setTimeout(()=>{y.value.focus()},100)}},{title:"\u7528\u6237id",dataIndex:"userId",key:"userId",slots:{filterDropdown:"filterDropdown",filterIcon:"filterIcon",customRender:"customRender"},onFilter:(t,e)=>e.userId.toString().toLowerCase().includes(t.toLowerCase()),onFilterDropdownVisibleChange:t=>{t&&setTimeout(()=>{y.value.focus()},100)}},{title:"\u64CD\u4F5C",dataIndex:"action",key:"action",slots:{customRender:"action"}}]}),_=v([]),p=(a,t,e)=>{t(),r.searchText=a[0],r.searchedColumn=e},g=a=>{a(),r.searchText=""},q=(a,t,e)=>{console.log("Various parameters",a,t,e),T.value=t,C.value=e},$=Z(),{qq:F}=P($),D=()=>A(this,null,function*(){_.value=[];let a=yield te();for(let t of a)if(t.selfId===F.value){let e=t;e.key=t.id.toString(),_.value.push(e)}}),M=()=>{T.value=null},V=()=>{T.value=null,C.value=null},J=a=>A(this,null,function*(){yield oe({selfId:F.value,idList:a}),_.value=_.value.filter(t=>!a.includes(t.id))});return D(),H(F,()=>{D()}),(a,t)=>(u(),l("div",null,[c(o(U),null,{default:s(()=>[se]),_:1}),c(ee,{onRefreshJob:D,class:B(`${o(f)}__add`)},null,8,["class"]),c(o(k),{onClick:M,class:B(`${o(f)}__clear`)},{default:s(()=>[ue]),_:1},8,["class"]),c(o(k),{onClick:V,class:B(`${o(f)}__clear`)},{default:s(()=>[ne]),_:1},8,["class"]),c(o(W),{columns:o(I),"data-source":_.value,onChange:q},{filterDropdown:s(({setSelectedKeys:e,selectedKeys:m,confirm:x,clearFilters:b,column:j})=>[S("div",ae,[c(o(X),{ref:(h,O)=>{O.searchInput=h,y.value=h},placeholder:`\u641C\u7D22 ${j.title}`,value:m[0],style:{width:"188px","margin-bottom":"8px",display:"block"},onChange:h=>e(h.target.value?[h.target.value]:[]),onPressEnter:h=>p(m,x,j.dataIndex)},null,8,["placeholder","value","onChange","onPressEnter"]),c(o(k),{type:"primary",size:"small",style:{width:"90px","margin-right":"8px"},onClick:h=>p(m,x,j.dataIndex)},{icon:s(()=>[c(o(L))]),default:s(()=>[le]),_:2},1032,["onClick"]),c(o(k),{size:"small",style:{width:"90px"},onClick:h=>g(b)},{default:s(()=>[re]),_:2},1032,["onClick"])])]),filterIcon:s(e=>[c(o(L),{style:G({color:e?"#108ee9":void 0})},null,8,["style"])]),customRender:s(({text:e,column:m})=>[o(r).searchText&&o(r).searchedColumn===m.dataIndex?(u(),l("span",ie,[(u(!0),l(E,null,Q(e.toString().split(new RegExp(`(?<=${o(r).searchText})|(?=${o(r).searchText})`,"i")),(x,b)=>(u(),l(E,null,[x.toLowerCase()===o(r).searchText.toLowerCase()?(u(),l("mark",{class:"highlight",key:b},w(x),1)):(u(),l(E,{key:1},[n(w(x),1)],64))],64))),256))])):(u(),l(E,{key:1},[n(w(e),1)],64))]),jobType:s(({text:e})=>[e===1?(u(),i(o(d),{key:0,color:"green"},{default:s(()=>[de]),_:1})):e===2?(u(),i(o(d),{key:1,color:"green"},{default:s(()=>[ce]),_:1})):e===3?(u(),i(o(d),{key:2,color:"green"},{default:s(()=>[pe]),_:1})):(u(),i(o(d),{key:3,color:"red"},{default:s(()=>[_e]),_:1}))]),fullMatchType:s(({record:e})=>[e.jobType!==1?(u(),l("span",ye,"-")):e.fullMatchType===1?(u(),i(o(d),{key:1,color:"green"},{default:s(()=>[he]),_:1})):e.fullMatchType===2?(u(),i(o(d),{key:2,color:"green"},{default:s(()=>[fe]),_:1})):(u(),i(o(d),{key:3,color:"red"},{default:s(()=>[Te]),_:1}))]),questionType:s(({record:e})=>[e.jobType!==3?(u(),l("span",me,"-")):e.questionType===1?(u(),i(o(d),{key:1,color:"green"},{default:s(()=>[xe]),_:1})):e.questionType===2?(u(),i(o(d),{key:2,color:"green"},{default:s(()=>[Ce]),_:1})):(u(),i(o(d),{key:3,color:"red"},{default:s(()=>[ge]),_:1}))]),answerType:s(({record:e})=>[e.jobType!==3?(u(),l("span",ke,"-")):e.answerType===1?(u(),i(o(d),{key:1,color:"green"},{default:s(()=>[we]),_:1})):e.answerType===2?(u(),i(o(d),{key:2,color:"green"},{default:s(()=>[ve]),_:1})):(u(),i(o(d),{key:3,color:"red"},{default:s(()=>[Be]),_:1}))]),groupId:s(({record:e})=>[e.jobType===1?(u(),l("span",Ee,"-")):(u(),l("span",Ie,w(e.groupId),1))]),userId:s(({record:e})=>[e.jobType===1?(u(),l("span",Fe,"-")):(u(),l("span",De,w(e.userId),1))]),action:s(({record:e})=>[S("span",null,[c(o(k),{danger:"",class:B(`${o(f)}__action`),onClick:m=>J([e.id])},{default:s(()=>[be]),_:2},1032,["class","onClick"])])]),_:1},8,["columns","data-source"])]))}});export{Ne as default};
